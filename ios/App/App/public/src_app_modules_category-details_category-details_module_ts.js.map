<<<<<<< HEAD
{"version":3,"file":"src_app_modules_category-details_category-details_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEO;AAE9D,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,uEAAmB;KAC/B;CACF,CAAC;IAMW,gCAAgC,SAAhC,gCAAgC;CAAG;AAAnC,gCAAgC;IAJ5C,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,gCAAgC,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;AChBJ;AACM;AACF;AAEA;AAEwC;AAEvB;AACR;AACkB;AAC1B;IAcjC,yBAAyB,SAAzB,yBAAyB;CAAG;AAA5B,yBAAyB;IAZrC,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,8FAAgC;YAChC,gEAAe;YACf,kFAAgB;YAChB,wDAAY;SACb;QACD,YAAY,EAAE,CAAC,uEAAmB,CAAC;KACpC,CAAC;GACW,yBAAyB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzBmC;AAChB;AACkB;AAQV;AACkB;AACf;AACS;AACG;AAEf;IAOpD,mBAAmB,SAAnB,mBAAmB;IAgC9B,YACU,QAAwB,EACxB,eAAgC,EAChC,IAAsB,EACtB,IAAiB,EACjB,GAAa,EACb,KAAmB,EACnB,cAA8B,EAC9B,iBAAoC,EACpC,MAAc,EACd,SAA0B;QAT1B,aAAQ,GAAR,QAAQ,CAAgB;QACxB,oBAAe,GAAf,eAAe,CAAiB;QAChC,SAAI,GAAJ,IAAI,CAAkB;QACtB,SAAI,GAAJ,IAAI,CAAa;QACjB,QAAG,GAAH,GAAG,CAAU;QACb,UAAK,GAAL,KAAK,CAAc;QACnB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,WAAM,GAAN,MAAM,CAAQ;QACd,cAAS,GAAT,SAAS,CAAiB;QAtCpC,QAAG,GAAW,CAAC,CAAC;QAChB,SAAI,GAAW,CAAC,CAAC;QACjB,eAAU,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;QAK1C,iBAAY,GAAkB;YAC5B,aAAa,EAAE,GAAG;YAClB,YAAY,EAAE,CAAC;YACf,UAAU,EAAE,KAAK;YACjB,WAAW,EAAE;gBACX,OAAO,EAAE;oBACP,aAAa,EAAE,GAAG;oBAClB,YAAY,EAAE,EAAE;iBACjB;gBACD,OAAO,EAAE;oBACP,aAAa,EAAE,GAAG;oBAClB,YAAY,EAAE,EAAE;iBACjB;gBACD,OAAO,EAAE;oBACP,aAAa,EAAE,GAAG;oBAClB,YAAY,EAAE,EAAE;iBACjB;aACF;SACF,CAAC;QAEF,eAAU,GAAY,KAAK,CAAC;QAa1B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;IACrC,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE,CAAC;QAC1D,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAEK,cAAc;;YAClB,IAAI,CAAC,cAAc,GAAG;gBACpB,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE;gBACxC,aAAa,EAAE,QAAQ,CACrB,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,CACzD;gBACD,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,IAAE,CAAC,EAAC,EAAC,EAAC,KAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK;aAC5D,CAAC;YAEF,MAAM,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE;gBAC/C,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,SAAS,CAC1D,CAAC,IAA+B,EAAE,EAAE;oBAClC,IAAI,IAAI,CAAC,GAAG,IAAI,CAAC,EAAE;wBACjB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;wBACvB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC;wBAC7B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC;wBAChC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC;wBACjC,IAAI,CAAC,OAAO,EAAE,CAAC;wBACf,IAAI,CAAC,gBAAgB,EAAE,CAAC;qBACzB;oBACD,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;gBAC7B,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;oBACN,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;gBAC7B,CAAC,CACF,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;IAED,OAAO;QACL,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAEzD,IAAI,MAAM,GAA+B;YACvC;gBACE,WAAW,EAAE,KAAK;gBAClB,OAAO,EAAE;oBACP;wBACE,UAAU,EAAE,KAAK;qBAClB;iBACF;aACF;SACF,CAAC;QAEF,IAAI,UAAU,GAA2B;YACvC,MAAM,EAAE,MAAM;YACd,IAAI,EAAE,CAAC;YACP,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO;YACxC,MAAM,EAAE,MAAM;YACd,cAAc,EAAE,KAAK;SACtB,CAAC;QAEF,IAAI,CAAC,GAAG,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC;IAC5E,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;YACzB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YACnC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,QAAQ,CAAC,GAAG,EAAE,GAAG;QACf,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;QAC9C,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAC3B,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IACvB,CAAC;IAED,SAAS,CAAC,GAAG,EAAE,GAAG;QAChB,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;QAE9C,IAAI,CAAC,IAAI,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YACjC,GAAG,EAAE,IAAI,CAAC,GAAG;YACb,QAAQ,EAAE,MAAM;YAChB,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI;YACrC,IAAI,EAAE,EAAE;SACT,CAAC,CAAC;IACL,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IACvB,CAAC;IAED,OAAO,KAAI,CAAC;IAEZ,cAAc;QACZ,uDAAuD;QACvD,oBAAoB;QACpB,IAAI,CAAC,iBAAiB,GAAG;YACvB,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE;YACxC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,IAAE,CAAC,EAAC,EAAC,EAAC,KAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK;YAC3D,aAAa,EAAE,QAAQ,CACrB,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,CACzD;SACF,CAAC;QACF,MAAM;QACN,MAAM;QAEN,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE;YACzC,IAAI,CAAC,iBAAiB;iBACnB,kBAAkB,CAAC,IAAI,CAAC,iBAAiB,CAAC;iBAC1C,SAAS,CACR,CAAC,IAAqB,EAAE,EAAE;gBACxB,IAAI,IAAI,CAAC,GAAG,IAAI,CAAC,EAAE;oBACjB,IAAI,CAAC,WAAW,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC;iBAChE;gBACD,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;YAC7B,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;gBACN,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;YAC7B,CAAC,CACF,CAAC;QACN,CAAC,CAAC,CAAC;IACL,CAAC;IAED,UAAU;;QACR,OAAO,CAAC,GAAG,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QAC/D,IAAI,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE;YACnC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAI,CAAC,WAAW,0CAAE,WAAW,CAAC,CAAC;YACxD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,yBAAyB,EAAE,UAAI,CAAC,WAAW,0CAAE,EAAE,CAAC,CAAC,CAAC;SACzE;aAAM;YACL,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;YACnC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;SAC9C;IACH,CAAC;IAEK,WAAW,CAAC,UAAU,EAAC,YAAY;;YACvC,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACxC,SAAS,EAAE,yEAAc;gBACzB,QAAQ,EAAE,mBAAmB;gBAC7B,cAAc,EAAE;oBACd,MAAM,EAAE,UAAU;oBAClB,OAAO,EAAC,YAAY;iBACrB;aACF,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC;KAAA;IAED,SAAS,CAAC,MAAM;QACd,IAAI,CAAC,cAAc,GAAG;YACpB,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE;YACxC,aAAa,EAAE,QAAQ,CACrB,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,CACzD;YACD,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,IAAE,CAAC,EAAC,EAAC,EAAC,KAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK;SAC5D,CAAC;QAEA,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,SAAS,CAC1D,CAAC,IAA+B,EAAE,EAAE;YAClC,IAAI,IAAI,CAAC,GAAG,IAAI,CAAC,EAAE;gBACjB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC;gBAC7B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC;gBAChC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC;gBACjC,IAAI,CAAC,OAAO,EAAE,CAAC;gBACf,IAAI,CAAC,gBAAgB,EAAE,CAAC;aACzB;YACD,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC3B,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC3B,CAAC,CACF,CAAC;IAEN,CAAC;CACF;;YA7OQ,0DAAc;YAWd,uFAAe;YACf,0FAAgB;YAJhB,2EAAW;YARsB,oDAAQ;YAUzC,8EAAY;YAXZ,4DAAc;YAUd,6FAAiB;YAVD,oDAAM;YACN,2DAAe;;;yBAsBrC,qDAAS,SAAC,KAAK,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;;AADxB,mBAAmB;IAL/B,yDAAS,CAAC;QACT,QAAQ,EAAE,sBAAsB;QAChC,sKAA2C;;KAE5C,CAAC;GACW,mBAAmB,CAwN/B;AAxN+B;;;;;;;;;;;;;;;ACvBhC,iEAAe,opCAAopC,4BAA4B,8KAA8K,sBAAsB,0BAA0B,4KAA4K,6BAA6B,mBAAmB,8KAA8K,iCAAiC,sBAAsB,oIAAoI,2BAA2B,8CAA8C,mBAAmB,8JAA8J,4BAA4B,4WAA4W,8TAA8T,mBAAmB,uMAAuM,iCAAiC,uEAAuE,yBAAyB,2KAA2K,2BAA2B,iDAAiD","sources":["./src/app/modules/category-details/category-details-routing.module.ts","./src/app/modules/category-details/category-details.module.ts","./src/app/modules/category-details/category-details.page.ts","./src/app/modules/category-details/category-details.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CategoryDetailsPage } from './category-details.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CategoryDetailsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CategoryDetailsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CategoryDetailsPageRoutingModule } from './category-details-routing.module';\n\nimport { CategoryDetailsPage } from './category-details.page';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ComponentsModule } from 'src/app/components/components.module';\nimport { SwiperModule } from 'swiper/angular';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CategoryDetailsPageRoutingModule,\n    TranslateModule,\n    ComponentsModule,\n    SwiperModule,\n  ],\n  declarations: [CategoryDetailsPage]\n})\nexport class CategoryDetailsPageModule {}\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { MenuController, ModalController, Platform } from '@ionic/angular';\nimport { GeneralResponse } from 'src/app/models/general';\nimport {\n  AddRemoveFavourite,\n  DepartmentDetailsResponse,\n  Item,\n} from 'src/app/models/item';\nimport { ShowDepartmetData } from 'src/app/models/sections';\nimport { AuthService } from 'src/app/services/auth/auth.service';\nimport { FavouritesService } from 'src/app/services/favourites/favourites.service';\nimport { ItemsService } from 'src/app/services/items/items.service';\nimport { LanguageService } from 'src/app/services/language/language.service';\nimport { UtilitiesService } from 'src/app/services/utilities/utilities.service';\nimport { SwiperOptions } from 'swiper';\nimport { ImageModalPage } from '../image-modal/image-modal.page';\n\n@Component({\n  selector: 'app-category-details',\n  templateUrl: './category-details.page.html',\n  styleUrls: ['./category-details.page.scss'],\n})\nexport class CategoryDetailsPage implements OnInit {\n  @ViewChild('map', { static: false }) mapElement: ElementRef;\n  map: google.maps.Map;\n  home: google.maps.Marker;\n  lat: number = 0;\n  long: number = 0;\n  infowindow = new google.maps.InfoWindow();\n  departmentData: ShowDepartmetData;\n  favDepartmentData: AddRemoveFavourite;\n  currentlangauge: string;\n  platform: any;\n  configSlider: SwiperOptions = {\n    slidesPerView: 3.5,\n    spaceBetween: 6,\n    pagination: false,\n    breakpoints: {\n      '@0.75': {\n        slidesPerView: 4.3,\n        spaceBetween: 10,\n      },\n      '@1.00': {\n        slidesPerView: 5.4,\n        spaceBetween: 10,\n      },\n      '@1.50': {\n        slidesPerView: 6.5,\n        spaceBetween: 10,\n      },\n    },\n  };\n  itemDetails: Item;\n  dataLoaded: boolean = false;\n  constructor(\n    private menuCtrl: MenuController,\n    private langaugeservice: LanguageService,\n    private util: UtilitiesService,\n    private auth: AuthService,\n    private plt: Platform,\n    private items: ItemsService,\n    private activatedRoute: ActivatedRoute,\n    private favouritesService: FavouritesService,\n    private router: Router,\n    private modalCtrl: ModalController\n  ) {\n    this.platform = this.util.platform;\n  }\n\n  ngOnInit() {\n    this.currentlangauge = this.langaugeservice.getLanguage();\n    this.getItemDetails();\n  }\n\n  async getItemDetails() {\n    this.departmentData = {\n      lang: this.langaugeservice.getLanguage(),\n      department_id: parseInt(\n        this.activatedRoute.snapshot.paramMap.get('departmetId')\n      ),\n      user_id: this.auth.userID.value==0?1:this.auth.userID.value,\n    };\n\n    await this.util.showLoadingSpinner().then((__) => {\n      this.items.showDepartmentByID(this.departmentData).subscribe(\n        (data: DepartmentDetailsResponse) => {\n          if (data.key == 1) {\n            this.dataLoaded = true;\n            this.itemDetails = data.data;\n            this.lat = this.itemDetails.lat;\n            this.long = this.itemDetails.lng;\n            this.loadMap();\n            this.loadItemPosition();\n          }\n          this.util.dismissLoading();\n        },\n        (err) => {\n          this.util.dismissLoading();\n        }\n      );\n    });\n  }\n\n  loadMap() {\n    let latLng = new google.maps.LatLng(this.lat, this.long);\n\n    let styles: google.maps.MapTypeStyle[] = [\n      {\n        featureType: 'poi',\n        stylers: [\n          {\n            visibility: 'off',\n          },\n        ],\n      },\n    ];\n\n    let mapOptions: google.maps.MapOptions = {\n      center: latLng,\n      zoom: 2,\n      mapTypeId: google.maps.MapTypeId.ROADMAP,\n      styles: styles,\n      mapTypeControl: false,\n    };\n\n    this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\n  }\n\n  loadItemPosition() {\n    this.plt.ready().then(() => {\n      this.focusMap(this.lat, this.long);\n      this.addMarker(this.lat, this.long);\n    });\n  }\n\n  focusMap(lat, lng) {\n    let latLng = new google.maps.LatLng(lat, lng);\n    this.map.setCenter(latLng);\n    this.map.setZoom(15);\n  }\n\n  addMarker(lat, lng) {\n    let latLng = new google.maps.LatLng(lat, lng);\n\n    this.home = new google.maps.Marker({\n      map: this.map,\n      position: latLng,\n      animation: google.maps.Animation.DROP,\n      icon: '',\n    });\n  }\n\n  openMenu() {\n    this.menuCtrl.open();\n  }\n\n  reserve() {}\n\n  addToFavourite() {\n    // this.auth.getUserIDObservable().subscribe((val) => {\n    //   if (val != 0) {\n    this.favDepartmentData = {\n      lang: this.langaugeservice.getLanguage(),\n      user_id: this.auth.userID.value==0?1:this.auth.userID.value, //val,\n      department_id: parseInt(\n        this.activatedRoute.snapshot.paramMap.get('departmetId')\n      ),\n    };\n    //   }\n    // });\n\n    this.util.showLoadingSpinner().then((__) => {\n      this.favouritesService\n        .addRemoveFavourite(this.favDepartmentData)\n        .subscribe(\n          (data: GeneralResponse) => {\n            if (data.key == 1) {\n              this.itemDetails.is_favourite = !this.itemDetails.is_favourite;\n            }\n            this.util.dismissLoading();\n          },\n          (err) => {\n            this.util.dismissLoading();\n          }\n        );\n    });\n  }\n\n  storeOrder() {\n    console.log('is logined : ' + this.auth.isAuthenticated.value);\n    if (this.auth.isAuthenticated.value) {\n      this.util.setClosedDates(this.itemDetails?.closed_date);\n      this.router.navigate(['/tabs/main/reservation/', this.itemDetails?.id]);\n    } else {\n      this.util.showMessage('login now');\n      this.router.navigateByUrl('/login-register');\n    }\n  }\n\n  async openPreview(itemImages,currentImage) {\n    const modal = await this.modalCtrl.create({\n      component: ImageModalPage,\n      cssClass: 'transparent-modal',\n      componentProps: {\n        images: itemImages,\n        imageID:currentImage\n      },\n    });\n    modal.present();\n  }\n\n  doRefresh($event) {\n    this.departmentData = {\n      lang: this.langaugeservice.getLanguage(),\n      department_id: parseInt(\n        this.activatedRoute.snapshot.paramMap.get('departmetId')\n      ),\n      user_id: this.auth.userID.value==0?1:this.auth.userID.value,\n    };\n\n      this.items.showDepartmentByID(this.departmentData).subscribe(\n        (data: DepartmentDetailsResponse) => {\n          if (data.key == 1) {\n            this.dataLoaded = true;\n            this.itemDetails = data.data;\n            this.lat = this.itemDetails.lat;\n            this.long = this.itemDetails.lng;\n            this.loadMap();\n            this.loadItemPosition();\n          }\n          $event.target.complete();\n        },\n        (err) => {\n          $event.target.complete();\n        }\n      );\n   \n  }\n}\n","export default \"<app-header\\n  [title]=\\\"'details'\\\"\\n  [isEditable]=\\\"false\\\"\\n  [backwardRoute]='\\\"/tabs/main/categories\\\"'\\n  [isMain]=\\\"false\\\"\\n  [categoryId]=\\\"itemDetails?.section_id\\\"\\n  class=\\\"header-height\\\"\\n></app-header>\\n\\n<ion-content class=\\\"ion-padding\\\" >\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n  <div class=\\\"item-image\\\" *ngIf=\\\"itemDetails\\\">\\n    <img [src]=\\\"itemDetails?.first_image\\\" />\\n    <ion-icon\\n      (click)=\\\"addToFavourite()\\\"\\n      [ngClass]=\\\"currentlangauge =='ar' ?'fav-ar':'fav-en' \\\"\\n      [src]=\\\"itemDetails?.is_favourite ? './../../../assets/icon/fav-active.svg' :'./../../../assets/icon/fav-inactive.svg'\\\"\\n    >\\n    </ion-icon>\\n\\n    <div class=\\\"details-container ion-padding\\\">\\n      <app-custom-details\\n        [ItemDetails]=\\\"itemDetails\\\"\\n        [isDetailed]=\\\"true\\\"\\n      ></app-custom-details>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"services\\\" *ngIf=\\\"itemDetails\\\">\\n    <div>\\n      <ion-icon src=\\\"./../../../assets/icon/icon1.svg\\\"></ion-icon>\\n      <p class=\\\"fn-14 dalel-Regular secondary-color\\\">\\n        {{itemDetails?.section_title}}\\n      </p>\\n    </div>\\n    <div>\\n      <ion-icon src=\\\"./../../../assets/icon/space.svg\\\"></ion-icon>\\n      <p class=\\\"fn-14 dalel-Regular secondary-color\\\">\\n        {{itemDetails?.area}} {{'meter square'|translate}}\\n      </p>\\n    </div>\\n    <div>\\n      <ion-icon src=\\\"./../../../assets/icon/bed.svg\\\"></ion-icon>\\n      <p class=\\\"fn-14 dalel-Regular secondary-color\\\">\\n        {{itemDetails?.rooms_count}} {{'rooms'|translate}}\\n      </p>\\n    </div>\\n    <div>\\n      <ion-icon src=\\\"./../../../assets/icon/icon4.svg\\\"></ion-icon>\\n      <p class=\\\"fn-14 dalel-Regular secondary-color\\\">\\n        {{itemDetails?.bathrooms_count}} {{'bathroom'|translate}}\\n      </p>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"description\\\" *ngIf=\\\"itemDetails\\\">\\n    <h5 class=\\\"fn-16 dalel-SemiBold\\\">{{\\\"description\\\"|translate}}</h5>\\n    <p class=\\\"fn-12 dalel-Regular\\\">{{itemDetails?.desc}}</p>\\n  </div>\\n\\n  <div class=\\\"place-images\\\" *ngIf=\\\"itemDetails\\\">\\n    <div class=\\\"header\\\">\\n      <div>\\n        <h5 class=\\\"fn-16 dalel-SemiBold\\\">{{\\\"place-images\\\"|translate}}</h5>\\n      </div>\\n      <div>\\n        <ion-icon src=\\\"./../../../assets/icon/place.svg\\\"></ion-icon>\\n      </div>\\n    </div>\\n\\n    <swiper\\n      #swiper\\n      [config]=\\\"configSlider\\\"\\n      class=\\\"custom-swiper\\\"\\n      [dir]=\\\"currentlangauge == 'ar' ? 'rtl' : 'ltr'\\\"\\n    >\\n      <ng-template swiperSlide *ngFor=\\\"let image of itemDetails?.images; let i = index\\\" >\\n        <img (click)=\\\"openPreview(itemDetails?.images,i)\\\" class=\\\"slider-image\\\" [src]=\\\"image.image\\\" />\\n      </ng-template>\\n    </swiper>\\n  </div>\\n\\n  <div class=\\\"map-container\\\">\\n    <div class=\\\"header\\\" *ngIf=\\\"itemDetails\\\">\\n      <div>\\n        <h5 class=\\\"fn-16 dalel-SemiBold\\\">{{\\\"map\\\"|translate}}</h5>\\n      </div>\\n    </div>\\n    <div #map class=\\\"map\\\"></div>\\n  </div>\\n\\n  <div class=\\\"rules\\\" *ngIf=\\\"itemDetails\\\">\\n    <div class=\\\"header\\\">\\n      <h5 class=\\\"fn-16 dalel-SemiBold\\\">{{\\\"reservation-rules\\\"|translate}}</h5>\\n    </div>\\n    <div>\\n      <p class=\\\"fn-12 dalel-Regular\\\">{{itemDetails?.order_desc}}</p>\\n    </div>\\n  </div>\\n\\n  <ion-button expand=\\\"block\\\" (click)=\\\" storeOrder()\\\" *ngIf=\\\"itemDetails\\\">\\n    <span class=\\\"fn-16 white-color dalel-Bold\\\">\\n      {{ \\\"reserve now\\\"|translate}}\\n    </span>\\n  </ion-button>\\n</ion-content>\\n\";"],"names":[],"sourceRoot":"webpack:///"}
=======
{"version":3,"file":"src_app_modules_category-details_category-details_module_ts.js","mappings":"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","sources":["./src/app/modules/category-details/category-details-routing.module.ts","./src/app/modules/category-details/category-details.module.ts","./src/app/modules/category-details/category-details.page.ts","./src/app/modules/category-details/category-details.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CategoryDetailsPage } from './category-details.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CategoryDetailsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CategoryDetailsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CategoryDetailsPageRoutingModule } from './category-details-routing.module';\n\nimport { CategoryDetailsPage } from './category-details.page';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ComponentsModule } from 'src/app/components/components.module';\nimport { SwiperModule } from 'swiper/angular';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CategoryDetailsPageRoutingModule,\n    TranslateModule,\n    ComponentsModule,\n    SwiperModule,\n  ],\n  declarations: [CategoryDetailsPage]\n})\nexport class CategoryDetailsPageModule {}\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { MenuController, ModalController, Platform } from '@ionic/angular';\nimport { GeneralResponse } from 'src/app/models/general';\nimport {\n  AddRemoveFavourite,\n  DepartmentDetailsResponse,\n  Item,\n} from 'src/app/models/item';\nimport { ShowDepartmetData } from 'src/app/models/sections';\nimport { AuthService } from 'src/app/services/auth/auth.service';\nimport { FavouritesService } from 'src/app/services/favourites/favourites.service';\nimport { ItemsService } from 'src/app/services/items/items.service';\nimport { LanguageService } from 'src/app/services/language/language.service';\nimport { UtilitiesService } from 'src/app/services/utilities/utilities.service';\nimport { SwiperOptions } from 'swiper';\nimport { ImageModalPage } from '../image-modal/image-modal.page';\n\n@Component({\n  selector: 'app-category-details',\n  templateUrl: './category-details.page.html',\n  styleUrls: ['./category-details.page.scss'],\n})\nexport class CategoryDetailsPage implements OnInit {\n  @ViewChild('map', { static: false }) mapElement: ElementRef;\n  map: google.maps.Map;\n  home: google.maps.Marker;\n  lat: number = 0;\n  long: number = 0;\n  infowindow = new google.maps.InfoWindow();\n  departmentData: ShowDepartmetData;\n  favDepartmentData: AddRemoveFavourite;\n  currentlangauge: string;\n  platform: any;\n  configSlider: SwiperOptions = {\n    slidesPerView: 3.5,\n    spaceBetween: 6,\n    pagination: false,\n    breakpoints: {\n      '@0.75': {\n        slidesPerView: 4.3,\n        spaceBetween: 10,\n      },\n      '@1.00': {\n        slidesPerView: 5.4,\n        spaceBetween: 10,\n      },\n      '@1.50': {\n        slidesPerView: 6.5,\n        spaceBetween: 10,\n      },\n    },\n  };\n  itemDetails: Item;\n  dataLoaded: boolean = false;\n  constructor(\n    private menuCtrl: MenuController,\n    private langaugeservice: LanguageService,\n    private util: UtilitiesService,\n    private auth: AuthService,\n    private plt: Platform,\n    private items: ItemsService,\n    private activatedRoute: ActivatedRoute,\n    private favouritesService: FavouritesService,\n    private router: Router,\n    private modalCtrl: ModalController\n  ) {\n    this.platform = this.util.platform;\n  }\n\n  ngOnInit() {\n    this.currentlangauge = this.langaugeservice.getLanguage();\n    this.getItemDetails();\n  }\n\n  async getItemDetails() {\n    this.departmentData = {\n      lang: this.langaugeservice.getLanguage(),\n      department_id: parseInt(\n        this.activatedRoute.snapshot.paramMap.get('departmetId')\n      ),\n      user_id: this.auth.userID.value==0?1:this.auth.userID.value,\n    };\n\n    await this.util.showLoadingSpinner().then((__) => {\n      this.items.showDepartmentByID(this.departmentData).subscribe(\n        (data: DepartmentDetailsResponse) => {\n          if (data.key == 1) {\n            this.dataLoaded = true;\n            this.itemDetails = data.data;\n            this.lat = this.itemDetails.lat;\n            this.long = this.itemDetails.lng;\n            this.loadMap();\n            this.loadItemPosition();\n          }\n          this.util.dismissLoading();\n        },\n        (err) => {\n          this.util.dismissLoading();\n        }\n      );\n    });\n  }\n\n  loadMap() {\n    let latLng = new google.maps.LatLng(this.lat, this.long);\n\n    let styles: google.maps.MapTypeStyle[] = [\n      {\n        featureType: 'poi',\n        stylers: [\n          {\n            visibility: 'off',\n          },\n        ],\n      },\n    ];\n\n    let mapOptions: google.maps.MapOptions = {\n      center: latLng,\n      zoom: 2,\n      mapTypeId: google.maps.MapTypeId.ROADMAP,\n      styles: styles,\n      mapTypeControl: false,\n    };\n\n    this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\n  }\n\n  loadItemPosition() {\n    this.plt.ready().then(() => {\n      this.focusMap(this.lat, this.long);\n      this.addMarker(this.lat, this.long);\n    });\n  }\n\n  focusMap(lat, lng) {\n    let latLng = new google.maps.LatLng(lat, lng);\n    this.map.setCenter(latLng);\n    this.map.setZoom(15);\n  }\n\n  addMarker(lat, lng) {\n    let latLng = new google.maps.LatLng(lat, lng);\n\n    this.home = new google.maps.Marker({\n      map: this.map,\n      position: latLng,\n      animation: google.maps.Animation.DROP,\n      icon: '',\n    });\n  }\n\n  openMenu() {\n    this.menuCtrl.open();\n  }\n\n  reserve() {}\n\n  addToFavourite() {\n    // this.auth.getUserIDObservable().subscribe((val) => {\n    //   if (val != 0) {\n    this.favDepartmentData = {\n      lang: this.langaugeservice.getLanguage(),\n      user_id: this.auth.userID.value==0?1:this.auth.userID.value, //val,\n      department_id: parseInt(\n        this.activatedRoute.snapshot.paramMap.get('departmetId')\n      ),\n    };\n    //   }\n    // });\n\n    this.util.showLoadingSpinner().then((__) => {\n      this.favouritesService\n        .addRemoveFavourite(this.favDepartmentData)\n        .subscribe(\n          (data: GeneralResponse) => {\n            if (data.key == 1) {\n              this.itemDetails.is_favourite = !this.itemDetails.is_favourite;\n            }\n            this.util.dismissLoading();\n          },\n          (err) => {\n            this.util.dismissLoading();\n          }\n        );\n    });\n  }\n\n  storeOrder() {\n    console.log('is logined : ' + this.auth.isAuthenticated.value);\n    if (this.auth.isAuthenticated.value) {\n      this.util.setClosedDates(this.itemDetails?.closed_date);\n      this.router.navigate(['/tabs/main/reservation/', this.itemDetails?.id]);\n    } else {\n      this.util.showMessage('login now');\n      this.router.navigateByUrl('/login-register');\n    }\n  }\n\n  async openPreview(itemImages,currentImage) {\n    const modal = await this.modalCtrl.create({\n      component: ImageModalPage,\n      cssClass: 'transparent-modal',\n      componentProps: {\n        images: itemImages,\n        imageID:currentImage\n      },\n    });\n    modal.present();\n  }\n\n  doRefresh($event) {\n    this.departmentData = {\n      lang: this.langaugeservice.getLanguage(),\n      department_id: parseInt(\n        this.activatedRoute.snapshot.paramMap.get('departmetId')\n      ),\n      user_id: this.auth.userID.value==0?1:this.auth.userID.value,\n    };\n\n      this.items.showDepartmentByID(this.departmentData).subscribe(\n        (data: DepartmentDetailsResponse) => {\n          if (data.key == 1) {\n            this.dataLoaded = true;\n            this.itemDetails = data.data;\n            this.lat = this.itemDetails.lat;\n            this.long = this.itemDetails.lng;\n            this.loadMap();\n            this.loadItemPosition();\n          }\n          $event.target.complete();\n        },\n        (err) => {\n          $event.target.complete();\n        }\n      );\n   \n  }\n}\n","export default \"<app-header\\n  [title]=\\\"'details'\\\"\\n  [isEditable]=\\\"false\\\"\\n  [backwardRoute]='\\\"/tabs/main/categories\\\"'\\n  [isMain]=\\\"false\\\"\\n  [categoryId]=\\\"itemDetails?.section_id\\\"\\n  class=\\\"header-height\\\"\\n></app-header>\\n\\n<ion-content class=\\\"ion-padding\\\" >\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n  <div class=\\\"item-image\\\" *ngIf=\\\"itemDetails\\\">\\n    <img [src]=\\\"itemDetails?.first_image\\\" />\\n    <ion-icon\\n      (click)=\\\"addToFavourite()\\\"\\n      [ngClass]=\\\"currentlangauge =='ar' ?'fav-ar':'fav-en' \\\"\\n      [src]=\\\"itemDetails?.is_favourite ? './../../../assets/icon/fav-active.svg' :'./../../../assets/icon/fav-inactive.svg'\\\"\\n    >\\n    </ion-icon>\\n\\n    <div class=\\\"details-container ion-padding\\\">\\n      <app-custom-details\\n        [ItemDetails]=\\\"itemDetails\\\"\\n        [isDetailed]=\\\"true\\\"\\n      ></app-custom-details>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"services\\\" *ngIf=\\\"itemDetails\\\">\\n    <div>\\n      <ion-icon src=\\\"./../../../assets/icon/icon1.svg\\\"></ion-icon>\\n      <p class=\\\"fn-14 dalel-Regular secondary-color\\\">\\n        {{itemDetails?.section_title}}\\n      </p>\\n    </div>\\n    <div>\\n      <ion-icon src=\\\"./../../../assets/icon/space.svg\\\"></ion-icon>\\n      <p class=\\\"fn-14 dalel-Regular secondary-color\\\">\\n        {{itemDetails?.area}} {{'meter square'|translate}}\\n      </p>\\n    </div>\\n    <div>\\n      <ion-icon src=\\\"./../../../assets/icon/bed.svg\\\"></ion-icon>\\n      <p class=\\\"fn-14 dalel-Regular secondary-color\\\">\\n        {{itemDetails?.rooms_count}} {{'rooms'|translate}}\\n      </p>\\n    </div>\\n    <div>\\n      <ion-icon src=\\\"./../../../assets/icon/icon4.svg\\\"></ion-icon>\\n      <p class=\\\"fn-14 dalel-Regular secondary-color\\\">\\n        {{itemDetails?.bathrooms_count}} {{'bathroom'|translate}}\\n      </p>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"description\\\" *ngIf=\\\"itemDetails\\\">\\n    <h5 class=\\\"fn-16 dalel-SemiBold\\\">{{\\\"description\\\"|translate}}</h5>\\n    <p class=\\\"fn-12 dalel-Regular\\\">{{itemDetails?.desc}}</p>\\n  </div>\\n\\n  <div class=\\\"place-images\\\" *ngIf=\\\"itemDetails\\\">\\n    <div class=\\\"header\\\">\\n      <div>\\n        <h5 class=\\\"fn-16 dalel-SemiBold\\\">{{\\\"place-images\\\"|translate}}</h5>\\n      </div>\\n      <div>\\n        <ion-icon src=\\\"./../../../assets/icon/place.svg\\\"></ion-icon>\\n      </div>\\n    </div>\\n\\n    <swiper\\n      #swiper\\n      [config]=\\\"configSlider\\\"\\n      class=\\\"custom-swiper\\\"\\n      [dir]=\\\"currentlangauge == 'ar' ? 'rtl' : 'ltr'\\\"\\n    >\\n      <ng-template swiperSlide *ngFor=\\\"let image of itemDetails?.images; let i = index\\\" >\\n        <img (click)=\\\"openPreview(itemDetails?.images,i)\\\" class=\\\"slider-image\\\" [src]=\\\"image.image\\\" />\\n      </ng-template>\\n    </swiper>\\n  </div>\\n\\n  <div class=\\\"map-container\\\">\\n    <div class=\\\"header\\\" *ngIf=\\\"itemDetails\\\">\\n      <div>\\n        <h5 class=\\\"fn-16 dalel-SemiBold\\\">{{\\\"map\\\"|translate}}</h5>\\n      </div>\\n    </div>\\n    <div #map class=\\\"map\\\"></div>\\n  </div>\\n\\n  <div class=\\\"rules\\\" *ngIf=\\\"itemDetails\\\">\\n    <div class=\\\"header\\\">\\n      <h5 class=\\\"fn-16 dalel-SemiBold\\\">{{\\\"reservation-rules\\\"|translate}}</h5>\\n    </div>\\n    <div>\\n      <p class=\\\"fn-12 dalel-Regular\\\">{{itemDetails?.order_desc}}</p>\\n    </div>\\n  </div>\\n\\n  <ion-button expand=\\\"block\\\" (click)=\\\" storeOrder()\\\" *ngIf=\\\"itemDetails\\\">\\n    <span class=\\\"fn-16 white-color dalel-Bold\\\">\\n      {{ \\\"reserve now\\\"|translate}}\\n    </span>\\n  </ion-button>\\n</ion-content>\\n\";"],"names":[],"sourceRoot":"webpack:///"}
>>>>>>> 834fbd3340ffd4e17fcb852b513b68d626caa195
