{"version":3,"file":"src_app_modules_auth_edit-profile_edit-profile_module_ts.js","mappings":"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","sources":["./src/app/modules/auth/edit-profile/edit-profile-routing.module.ts","./src/app/modules/auth/edit-profile/edit-profile.module.ts","./src/app/modules/auth/edit-profile/edit-profile.page.ts","./src/app/modules/auth/edit-profile/edit-profile.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EditProfilePage } from './edit-profile.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditProfilePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EditProfilePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EditProfilePageRoutingModule } from './edit-profile-routing.module';\n\nimport { EditProfilePage } from './edit-profile.page';\n\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ComponentsModule } from 'src/app/components/components.module';\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EditProfilePageRoutingModule,\n    TranslateModule,\n    ComponentsModule,\n    ReactiveFormsModule\n  ],\n  declarations: [EditProfilePage]\n})\nexport class EditProfilePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { MenuController } from '@ionic/angular';\nimport { UserData } from 'src/app/models/general';\nimport { UpdateUserData,  UserResponse } from 'src/app/models/userData';\nimport { AuthService } from 'src/app/services/auth/auth.service';\nimport { LanguageService } from 'src/app/services/language/language.service';\nimport { UtilitiesService } from 'src/app/services/utilities/utilities.service';\n\n@Component({\n  selector: 'app-edit-profile',\n  templateUrl: './edit-profile.page.html',\n  styleUrls: ['./edit-profile.page.scss'],\n})\nexport class EditProfilePage implements OnInit {\n  userData: UserData;\n  updateUserData:UpdateUserData;\n  getData:boolean=false;\n  userResponse: UserResponse;\n  isProfileSubmitted: boolean = false;\n  public profileForm: FormGroup;\n\n  inputFocusPerson: boolean = false;\n  inputFocusPersonIcon: string = './../../../../assets/icon/person-active.svg';\n  inputInFocusPersonIcon: string =\n    './../../../../assets/icon/person-inactive.svg';\n\n  inputFocusEmail: boolean = false;\n  inputFocusEmailIcon: string = './../../../../assets/icon/email-active.svg';\n  inputInFocusEmailIcon: string =\n    './../../../../assets/icon/email-inactive.svg';\n\n  inputFocusPhone: boolean = false;\n  inputFocusPhoneIcon: string = './../../../../assets/icon/phone-active.svg';\n  inputInFocusPhoneIcon: string =\n    './../../../../assets/icon/phone-inactive.svg';\n\n  constructor(\n    private menuCtrl: MenuController,\n    private formBuilder: FormBuilder,\n    private util: UtilitiesService,\n    private auth: AuthService,\n    private language: LanguageService\n  ) {\n    this.auth.getUserIDObservable().subscribe((val) => {\n      this.userData = {\n        lang: this.language.getLanguage(),\n        user_id: val,\n      };\n    });\n    this.util.showLoadingSpinner().then((__) => {\n      this.auth.userData(this.userData).subscribe(\n        (data: UserResponse) => {\n          this.userResponse = data;\n          console.log('user all data :' + JSON.stringify(this.userResponse));\n          this.buildForm();\n          this.util.dismissLoading();\n          this.getData=true;\n        },\n        (err) => {\n          this.util.dismissLoading();\n          this.getData=false;\n        }\n      );\n    });\n  }\n  ngOnInit() {}\n\n  openMenu() {\n    this.menuCtrl.open();\n  }\n\n  get profileErrorControl() {\n    return this.profileForm.controls;\n  }\n\n  buildForm() {\n    this.profileForm = this.formBuilder.group({\n      userName: [\n        this.userResponse.data.first_name,\n        [Validators.required, Validators.minLength(2)],\n      ],\n      phoneNumber: [\n        this.userResponse.data.phone,\n        [\n          Validators.required,\n          Validators.pattern(/^05/),\n          Validators.minLength(10),\n          Validators.maxLength(10),\n          //10\n        ],\n      ],\n      email: [\n        this.userResponse.data.email,\n        [\n          Validators.required,\n          Validators.email,\n          Validators.pattern('[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,3}$'),\n        ],\n      ],\n    });\n  }\n\n  // change icon beside input : just for style\n  focusPerson(focusStatus: boolean) {\n    console.log('input focus' + focusStatus);\n    this.inputFocusPerson = focusStatus;\n  }\n\n  focusEmail(focusStatus: boolean) {\n    console.log('input focus' + focusStatus);\n    this.inputFocusEmail = focusStatus;\n  }\n\n  focusPhone(focusStatus: boolean) {\n    console.log('input focus' + focusStatus);\n    this.inputFocusPhone = focusStatus;\n  }\n\n  editProfile() {\n    this.auth.getUserIDObservable().subscribe((val) => {\n      this.updateUserData = {\n        lang: this.language.getLanguage(),\n        user_id: val,\n        first_name:this.profileForm.value.userName,\n        email:this.profileForm.value.email,\n        phone:this.profileForm.value.phoneNumber\n      };\n    });\n    console.log('edited data is ' + JSON.stringify(this.profileForm.value));\n    this.util.showLoadingSpinner().then((__) => {\n      this.auth.updateUserData(this.updateUserData).subscribe(\n        (data: UserResponse) => {\n          this.userResponse = data;\n          console.log('user all data :' + JSON.stringify(this.userResponse));\n          if(data.key==1){\n            this.util.showMessage(data.msg);\n          }\n          this.util.dismissLoading();\n        },\n        (err) => {\n          this.util.dismissLoading();\n        }\n      );\n    });\n  }\n}\n","export default \"<app-header\\n  [title]=\\\"'edit profile'\\\"\\n  [isEditable]=\\\"false\\\"\\n  [isMain]=\\\"false\\\"\\n  [backwardRoute]=\\\"'/tabs/profile'\\\"\\n></app-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <div class=\\\"auth-login-register\\\" *ngIf=\\\"getData\\\">\\n    <ion-card class=\\\"auth-container\\\">\\n      <form\\n        class=\\\"auth-form\\\"\\n        (ngSubmit)=\\\"editProfile()\\\"\\n        [formGroup]=\\\"profileForm\\\"\\n      >\\n        <ion-item lines=\\\"none\\\" [ngClass]=\\\"inputFocusPerson ? 'focused' : 'unfocused' \\\">\\n          <ion-icon\\n            item-start\\n            color=\\\"primary\\\"\\n            src=\\\"{{inputFocusPerson?inputFocusPersonIcon:inputInFocusPersonIcon}}\\\"\\n          ></ion-icon>\\n          <ion-input\\n            (ionFocus)=\\\"focusPerson(true)\\\"\\n            (ionBlur)=\\\"focusPerson(false)\\\"\\n            placeholder=\\\"{{'user-name'|translate}}\\\"\\n            type=\\\"text\\\"\\n            formControlName=\\\"userName\\\"\\n            [value]=\\\"userResponse.data.first_name\\\"\\n          ></ion-input>\\n        </ion-item>\\n\\n        <div\\n          class=\\\"error-box\\\"\\n          *ngIf=\\\"isProfileSubmitted && profileErrorControl.userName.errors?.required\\\"\\n        >\\n          {{'please enter user name' | translate}}\\n        </div>\\n\\n        <div\\n          class=\\\"error-box\\\"\\n          *ngIf=\\\"isProfileSubmitted && profileErrorControl.userName.errors?.minlength\\\"\\n        >\\n          {{'user name should be min 2 chars long' | translate}}\\n        </div>\\n\\n        <ion-item lines=\\\"none\\\" [ngClass]=\\\"inputFocusPhone ? 'focused' : 'unfocused' \\\">\\n          <ion-icon\\n            item-start\\n            color=\\\"primary\\\"\\n            src=\\\"{{inputFocusPhone?inputFocusPhoneIcon:inputInFocusPhoneIcon}}\\\"\\n          ></ion-icon>\\n          <ion-input\\n            (ionFocus)=\\\"focusPhone(true)\\\"\\n            (ionBlur)=\\\"focusPhone(false)\\\"\\n            placeholder=\\\"{{'phone-number'|translate}}\\\"\\n            type=\\\"tel\\\"\\n            formControlName=\\\"phoneNumber\\\"\\n            [value]=\\\"userResponse.data.phone\\\"\\n          ></ion-input>\\n        </ion-item>\\n\\n        <div\\n          class=\\\"error-box\\\"\\n          *ngIf=\\\"isProfileSubmitted && profileErrorControl .phoneNumber.errors?.required\\\"\\n        >\\n          {{'please enter phone number' | translate}}\\n        </div>\\n\\n        <div\\n          class=\\\"error-box\\\"\\n          *ngIf=\\\"isProfileSubmitted && profileErrorControl.phoneNumber.errors?.minlength\\\"\\n        >\\n          {{'phone number should be 10 numbers' | translate}}\\n        </div>\\n\\n        <ion-item lines=\\\"none\\\" [ngClass]=\\\"inputFocusEmail ? 'focused' : 'unfocused' \\\">\\n          <ion-icon\\n            item-start\\n            color=\\\"primary\\\"\\n            src=\\\"{{inputFocusEmail?inputFocusEmailIcon:inputInFocusEmailIcon}}\\\"\\n          ></ion-icon>\\n          <ion-input\\n            (ionFocus)=\\\"focusEmail(true)\\\"\\n            (ionBlur)=\\\"focusEmail(false)\\\"\\n            placeholder=\\\"{{'email-address'|translate}}\\\"\\n            type=\\\"email\\\"\\n            formControlName=\\\"email\\\"\\n            [value]=\\\"userResponse.data.email\\\"\\n          ></ion-input>\\n        </ion-item>\\n\\n        <div\\n          class=\\\"error-box\\\"\\n          *ngIf=\\\"isProfileSubmitted && profileErrorControl.email.errors?.required \\\"\\n        >\\n          {{'please enter email' | translate}}\\n        </div>\\n\\n        <div\\n          class=\\\"error-box\\\"\\n          *ngIf=\\\"isProfileSubmitted && profileErrorControl.email.errors?.pattern \\\"\\n        >\\n          {{'please enter valid email' | translate}}\\n        </div>\\n\\n        <ion-button expand=\\\"block\\\" type=\\\"submit\\\">\\n          <span class=\\\"auth-btn\\\"> {{ \\\"save\\\"|translate}} </span>\\n        </ion-button>\\n      </form>\\n    </ion-card>\\n  </div>\\n</ion-content>\\n\";"],"names":[],"sourceRoot":"webpack:///"}