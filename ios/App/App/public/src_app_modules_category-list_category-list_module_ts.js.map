{"version":3,"file":"src_app_modules_category-list_category-list_module_ts.js","mappings":"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","sources":["./src/app/modules/category-list/category-list-routing.module.ts","./src/app/modules/category-list/category-list.module.ts","./src/app/modules/category-list/category-list.page.ts","./src/app/modules/category-list/category-list.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CategoryListPage } from './category-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CategoryListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CategoryListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CategoryListPageRoutingModule } from './category-list-routing.module';\n\nimport { CategoryListPage } from './category-list.page';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CategoryListPageRoutingModule,\n    TranslateModule ,\n    ComponentsModule\n  ],\n  declarations: [CategoryListPage]\n})\nexport class CategoryListPageModule {}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport {\n  InfiniteScrollCustomEvent,\n  IonInfiniteScroll,\n  MenuController,\n  Platform,\n} from '@ionic/angular';\nimport { Location } from '@angular/common';\n\nimport { DepartmentResponse, Item, SectionData } from 'src/app/models/item';\nimport { ItemsService } from 'src/app/services/items/items.service';\nimport { LanguageService } from 'src/app/services/language/language.service';\nimport { UtilitiesService } from 'src/app/services/utilities/utilities.service';\n\n@Component({\n  selector: 'app-category-list',\n  templateUrl: './category-list.page.html',\n  styleUrls: ['./category-list.page.scss'],\n})\nexport class CategoryListPage implements OnInit {\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\n  noItems: boolean = false;\n  currentPage: number;\n  categoryID: string;\n  categoryName: string;\n  currentlangauge: string;\n  platform: any;\n  sectionAllItems: Item[];\n  sectionData: SectionData;\n\n  constructor(\n    private menuCtrl: MenuController,\n    private activatedRoute: ActivatedRoute,\n    private langaugeservice: LanguageService,\n    private util: UtilitiesService,\n    private items: ItemsService,\n    private plt: Platform,\n    private location: Location\n  ) {\n    this.platform = this.util.platform;\n    //this.loadItems();\n    this.plt.backButton.subscribeWithPriority(10, () => {\n      console.log('Handler was called!');\n      this.location.back();\n    });\n  }\n\n  goBack(){\n    this.location.back();\n  }\n  ngOnInit() {\n    console.log(\n      `category list data ${JSON.stringify(this.activatedRoute.snapshot.data)}`\n    );\n    if (this.activatedRoute.snapshot.data['name']) {\n      this.categoryName = this.activatedRoute.snapshot.data['name'];\n      console.log(`categoryName is ${this.categoryName}`);\n    }\n\n    this.currentlangauge = this.langaugeservice.getLanguage();\n    console.log(this.currentlangauge);\n    this.getAllDepartmentsBySectionID();\n  }\n\n  getAllDepartmentsBySectionID() {\n    this.sectionData = {\n      lang: this.langaugeservice.getLanguage(),\n      section_id: parseInt(this.activatedRoute.snapshot.paramMap.get('id')),\n    };\n    this.util.showLoadingSpinner().then((__) => {\n      this.items.allDepartmentsBySectionID(this.sectionData).subscribe(\n        (data: DepartmentResponse) => {\n          if (data.key == 1) {\n            console.log('sections data : ' + JSON.stringify(data));\n            if (data.data.length == 0) {\n              this.noItems = true;\n            }\n            this.sectionAllItems = data.data;\n          }\n          this.util.dismissLoading();\n        },\n        (err) => {\n          this.util.dismissLoading();\n        }\n      );\n    });\n  }\n\n  loadItems(event?: InfiniteScrollCustomEvent) {\n    // call api to get all categorey items\n    let newResults = { results: [], totel_pages: 10 };\n    //this.categoriesList=[...this.categoriesList,...newResults];\n\n    //this.categoriesList.concat(...newResults);\n    this.sectionAllItems.push(...newResults.results);\n    // after get data\n    event?.target.complete();\n    if (event) {\n      event.target.disabled = newResults.totel_pages === this.currentPage;\n    }\n  }\n\n  openMenu() {\n    this.menuCtrl.open();\n  }\n\n  loadData(event) {\n    this.currentPage++;\n    this.loadItems(event);\n    // setTimeout(() => {\n    //   console.log('Done');\n    //   event.target.complete();\n\n    //   // App logic to determine if all data is loaded\n    //   // and disable the infinite scroll\n    //   if (this.categoriesList.length === 1000) {\n    //     event.target.disabled = true;\n    //   }\n    // }, 500);\n  }\n\n  doRefresh($event) {\n    if (this.activatedRoute.snapshot.data['name']) {\n      this.categoryName = this.activatedRoute.snapshot.data['name'];\n      console.log(`categoryName is ${this.categoryName}`);\n    }\n\n    this.currentlangauge = this.langaugeservice.getLanguage();\n    console.log(this.currentlangauge);\n\n    this.sectionData = {\n      lang: this.langaugeservice.getLanguage(),\n      section_id: parseInt(this.activatedRoute.snapshot.paramMap.get('id')),\n    };\n    this.items.allDepartmentsBySectionID(this.sectionData).subscribe(\n      (data: DepartmentResponse) => {\n        if (data.key == 1) {\n          console.log('sections data : ' + JSON.stringify(data));\n          if (data.data.length == 0) {\n            this.noItems = true;\n          }\n          this.sectionAllItems = data.data;\n        }\n        $event.target.complete();\n      },\n      (err) => {\n        $event.target.complete();\n      }\n    );\n  }\n}\n","export default \"<app-header\\n  title=\\\"{{categoryName|translate}}\\\"\\n  [isEditable]=\\\"false\\\"\\n  [backwardRoute]=\\\"'/tabs/main/categories'\\\"\\n  [isMain]=\\\"false\\\"\\n  class=\\\"header-height\\\"\\n  (back)=\\\"goBack()\\\"\\n></app-header>\\n\\n<ion-content class=\\\"ion-padding\\\" >\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n\\n  <div *ngIf=\\\"noItems\\\" class=\\\"no-data\\\">\\n    <p>{{\\\"no items in this section\\\"|translate}}</p>\\n   </div>\\n  \\n  <app-custom-card\\n    [itemDetails]=\\\"item\\\"\\n    [forwardRoute]=\\\"'/tabs/main'\\\"\\n    [cardBrightness]=\\\"'0.53'\\\"\\n    *ngFor=\\\"let item of sectionAllItems\\\"\\n  ></app-custom-card>\\n\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n    <ion-infinite-scroll-content\\n      loadingSpinner=\\\"bubbles\\\"\\n      loadingText=\\\"Loading more data...\\\">\\n    </ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n</ion-content>\\n\";"],"names":[],"sourceRoot":"webpack:///"}